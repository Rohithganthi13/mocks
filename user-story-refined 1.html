<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QMentisAI - Refined User Story</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f5f7fb;
        color: #333;
      }
      .app-container {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      .header {
        background-color: #0091ff;
        color: white;
        padding: 0.5rem 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .logo {
        display: flex;
        align-items: center;
        font-weight: bold;
        font-size: 18px;
      }
      .logo-img {
        height: 32px;
        margin-right: 10px;
      }
      .user-menu {
        display: flex;
        align-items: center;
      }
      .user-icon {
        width: 32px;
        height: 32px;
        border-radius: 16px;
        background-color: rgba(255, 255, 255, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-left: 20px;
        color: white;
      }
      .main-content {
        flex: 1;
        padding: 1.5rem;
        max-width: 1000px;
        margin: 0 auto;
        width: 100%;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        margin-top: 1.5rem;
      }
      .breadcrumb {
        font-size: 14px;
        color: #666;
        margin-bottom: 1rem;
      }
      .breadcrumb a {
        color: #0091ff;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .version-tabs {
        display: flex;
        border-bottom: 1px solid #eee;
        margin-bottom: 1.5rem;
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 0.5rem;
        align-items: center;
      }
      .version-tab-group {
        display: flex;
        flex-wrap: wrap;
        width: 100%;
      }
      .version-tab {
        padding: 0.5rem 1rem;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        border-radius: 4px;
        margin-right: 0.5rem;
        margin-bottom: 0.25rem;
      }
      .version-tab.active {
        background-color: #0091ff;
        color: white;
      }
      .btn {
        padding: 0.5rem 1rem;
        border-radius: 4px;
        font-weight: 500;
        cursor: pointer;
        border: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        font-size: 14px;
      }
      .btn-primary {
        background-color: #0091ff;
        color: white;
      }
      .btn-primary:hover {
        background-color: #0073cc;
      }
      .btn-secondary {
        background-color: #38d9a9;
        color: white;
      }
      .btn-secondary:hover {
        background-color: #20c997;
      }
      .btn-outline {
        background-color: transparent;
        border: 1px solid #ddd;
        color: #333;
      }
      .btn-outline:hover {
        background-color: #f5f7fb;
      }
      .story-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 1.5rem;
        color: #333;
      }
      .section {
        margin-bottom: 1.5rem;
        border: 1px solid #eee;
        border-radius: 8px;
        overflow: hidden;
      }
      .section-title {
        font-weight: 600;
        padding: 1rem;
        background-color: #f8f9fa;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .section-content {
        padding: 1rem;
      }
      .story-description {
        margin-bottom: 0.5rem;
      }
      .story-meta {
        font-size: 14px;
        color: #666;
      }
      .story-meta-item {
        margin-right: 1rem;
      }
      .acceptance-list {
        list-style-type: decimal;
        padding-left: 1.5rem;
        margin: 0;
      }
      .acceptance-item {
        margin-bottom: 0.5rem;
      }
      .evaluation-header {
        margin-top: 2rem;
        margin-bottom: 1.5rem;
        border-bottom: 2px solid #eee;
        padding-bottom: 0.5rem;
      }
      .evaluation-title {
        font-size: 22px;
        font-weight: 600;
        color: #333;
      }
      .evaluation-subtitle {
        font-size: 14px;
        color: #666;
        margin-top: 0.5rem;
      }
      .invest-alert {
        background-color: #ebfbee;
        border: 1px solid #d3f9d8;
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1.5rem;
        color: #2b8a3e;
      }
      .invest-alert-title {
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
      .invest-alert-description {
        font-size: 14px;
      }
      .invest-tabs {
        display: flex;
        margin-bottom: 1rem;
        gap: 0.5rem;
      }
      .invest-tab {
        flex: 1;
        padding: 0.75rem 0.5rem;
        text-align: center;
        font-weight: 500;
        cursor: pointer;
        background-color: #f0f0f0;
        border-radius: 4px;
      }
      .invest-tab.active {
        background-color: #0091ff;
        color: white;
      }
      .invest-tab-content {
        display: none;
        margin-bottom: 1.5rem;
      }
      .invest-tab-content.active {
        display: block;
      }
      .invest-criterion-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }
      .invest-criterion-title {
        font-weight: 600;
        font-size: 16px;
      }
      .invest-criterion-score {
        font-weight: 600;
        padding: 0.25rem 0.5rem;
        border-radius: 20px;
        background-color: rgba(56, 217, 169, 0.2);
        color: #2b8a3e;
      }
      .invest-criterion-description {
        margin-bottom: 1rem;
        padding: 1rem;
        background-color: #f8f9fa;
        border-radius: 8px;
        font-size: 14px;
      }
      .rating {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }
      .rating-label {
        font-weight: 500;
        margin-right: 0.5rem;
        display: flex;
        align-items: center;
      }
      .rating-item {
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        cursor: pointer;
        font-weight: 500;
      }
      .rating-item.active {
        background-color: #38d9a9;
        color: white;
      }
      .rating-item:not(.active) {
        background-color: #f0f0f0;
        color: #666;
      }
      .rating-description {
        font-size: 14px;
        color: #2b8a3e;
        margin-left: 1rem;
      }
      .issues-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }
      .issues-item {
        margin-bottom: 0.5rem;
        padding-left: 1rem;
        position: relative;
      }
      .issues-item:before {
        content: "•";
        position: absolute;
        left: 0;
        color: #0091ff;
      }
      .recommendations {
        background-color: #f0f9ff;
        border: 1px solid #d0ebff;
        border-radius: 8px;
        padding: 1rem;
        margin-top: 1rem;
      }
      .recommendations-title {
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
      .recommendations-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }
      .recommendations-item {
        margin-bottom: 0.5rem;
        padding-left: 1rem;
        position: relative;
      }
      .recommendations-item:before {
        content: "•";
        position: absolute;
        left: 0;
        color: #0091ff;
      }
      .invest-summary {
        margin-bottom: 1.5rem;
      }
      .invest-summary-title {
        font-weight: 600;
        margin-bottom: 1rem;
      }
      .invest-summary-grid {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 0.5rem;
      }
      .invest-summary-item {
        border: 1px solid #eee;
        padding: 0.75rem 0.5rem;
        text-align: center;
        border-radius: 4px;
      }
      .invest-summary-label {
        font-size: 14px;
        font-weight: 500;
        margin-bottom: 0.5rem;
      }
      .invest-summary-value {
        font-weight: 600;
        color: #38d9a9;
      }
      .action-buttons {
        display: flex;
        justify-content: space-between;
        margin-bottom: 1.5rem;
      }
      .action-buttons-right {
        display: flex;
        gap: 0.5rem;
      }
      .version-history {
        margin-bottom: 1.5rem;
      }
      .version-history-title {
        font-weight: 600;
        margin-bottom: 1rem;
      }
      .version-history-table {
        width: 100%;
        border-collapse: collapse;
      }
      .version-history-table th,
      .version-history-table td {
        padding: 0.75rem;
        text-align: left;
        border-bottom: 1px solid #eee;
      }
      .version-history-table th {
        font-weight: 600;
        color: #666;
        background-color: #f8f9fa;
      }
      .view-link {
        color: #0091ff;
        text-decoration: none;
        font-weight: 500;
      }
      .view-link:hover {
        text-decoration: underline;
      }
      .badge {
        display: inline-block;
        padding: 0.25rem 0.5rem;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
      }
      .badge-success {
        background-color: rgba(56, 217, 169, 0.2);
        color: #20c997;
      }
      .badge-warning {
        background-color: rgba(255, 190, 11, 0.2);
        color: #e67700;
      }
      .badge-danger {
        background-color: rgba(255, 107, 107, 0.2);
        color: #e03131;
      }
      .download-options {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1.5rem;
        flex-wrap: wrap;
      }
      .download-option {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        color: white;
        font-weight: 500;
      }
      .download-option:hover {
        opacity: 0.9;
      }
      .download-option-icon {
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .download-option-text {
        font-size: 14px;
        font-weight: 500;
      }
      .download-pdf {
        background-color: #e74c3c;
      }
      .download-word {
        background-color: #3498db;
      }
      .download-jira {
        background-color: #2ecc71;
      }
      .download-view {
        background-color: #9b59b6;
      }
      .document-section {
        margin-bottom: 1.5rem;
        border: 1px solid #eee;
        border-radius: 8px;
        overflow: hidden;
      }
      .document-header {
        font-weight: 600;
        padding: 1rem;
        background-color: #f8f9fa;
        border-bottom: 1px solid #eee;
      }
      .document-content {
        padding: 1rem;
      }
      .document-actions {
        display: flex;
        gap: 0.5rem;
        margin-top: 0.5rem;
        flex-wrap: wrap;
      }
      .comparison-view {
        margin-bottom: 1.5rem;
        border: 1px solid #eee;
        border-radius: 8px;
        overflow: hidden;
      }
      .comparison-header {
        display: flex;
        background-color: #f8f9fa;
        border-bottom: 1px solid #eee;
      }
      .comparison-tab {
        flex: 1;
        padding: 1rem;
        text-align: center;
        font-weight: 500;
        cursor: pointer;
      }
      .comparison-tab.active {
        background-color: white;
        border-bottom: 2px solid #0091ff;
      }
      .comparison-content {
        display: none;
        padding: 1rem;
      }
      .comparison-content.active {
        display: block;
      }
      .diff-view {
        display: flex;
        border: 1px solid #eee;
        border-radius: 8px;
        overflow: hidden;
      }
      .diff-column {
        flex: 1;
        padding: 1rem;
      }
      .diff-column:first-child {
        border-right: 1px solid #eee;
      }
      .diff-header {
        font-weight: 600;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .diff-content {
        font-size: 14px;
        line-height: 1.6;
      }
      .diff-added {
        background-color: #ebfbee;
        padding: 0.25rem;
        border-radius: 4px;
      }
      .diff-removed {
        background-color: #fff5f5;
        padding: 0.25rem;
        border-radius: 4px;
        text-decoration: line-through;
      }
      .improvement-summary {
        background-color: #ebfbee;
        border: 1px solid #d3f9d8;
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1.5rem;
      }
      .improvement-title {
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
      .improvement-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }
      .improvement-item {
        margin-bottom: 0.5rem;
        padding-left: 1.5rem;
        position: relative;
      }
      .improvement-item:before {
        content: "✓";
        position: absolute;
        left: 0;
        color: #2b8a3e;
        font-weight: bold;
      }
      .version-select {
        padding: 0.5rem;
        border-radius: 4px;
        border: 1px solid #ddd;
        background-color: white;
        font-size: 14px;
        min-width: 150px;
      }
      .download-container {
        margin-bottom: 1.5rem;
      }
      .download-header {
        background-color: #f8f9fa;
        padding: 1rem;
        border-radius: 8px;
        border: 1px solid #eee;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .download-header:hover {
        background-color: #f0f0f0;
      }
      .download-content {
        display: none;
        padding: 1rem;
        border: 1px solid #eee;
        border-top: none;
        border-radius: 0 0 8px 8px;
        margin-top: -1px;
      }
      .download-content.active {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      /* Modal styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
      }
      .modal-content {
        background-color: white;
        margin: 10% auto;
        padding: 2rem;
        border-radius: 8px;
        max-width: 600px;
        position: relative;
      }
      .modal-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        font-size: 20px;
        cursor: pointer;
      }
      .modal-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 1rem;
      }
      .modal-form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .form-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      .form-label {
        font-weight: 500;
        font-size: 14px;
      }
      .form-input {
        padding: 0.75rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
      }
      .form-textarea {
        padding: 0.75rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
        min-height: 100px;
        resize: vertical;
      }
      .modal-actions {
        display: flex;
        justify-content: flex-end;
        gap: 0.5rem;
        margin-top: 1rem;
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <div class="header">
        <div class="logo">
          <img
            src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-OnKBz1MsmWV8QveiTtc71A2vw3Cdhr.png"
            alt="QMentisAI Logo"
            class="logo-img"
          />
          QMentisAI
        </div>
        <div class="user-menu">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M11 17.25a6.25 6.25 0 1 1 0-12.5 6.25 6.25 0 0 1 0 12.5z"
            ></path>
            <path d="M16 16 21 21"></path>
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            style="margin-left: 16px"
          >
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>
          <div class="user-icon">JD</div>
        </div>
      </div>

      <div class="main-content">
        <div class="breadcrumb">
          <a href="#">QMentis AI</a> / <a href="#">Projects</a> /
          <a href="#">E-Commerce Website Redesign</a> /
          <a href="#">User Stories</a> / <span>US-005</span>
        </div>

        <div class="version-tabs">
          <div class="version-tab-group">
            <div class="version-tab">Original</div>
            <div class="version-tab">V1.0</div>
            <div class="version-tab">V2.0</div>
            <div class="version-tab">V3.0</div>
            <div class="version-tab">Final Version</div>
            <div class="version-tab active">Refined</div>
          </div>
        </div>

        <div class="improvement-summary">
          <div class="improvement-title">Refinement Summary</div>
          <ul class="improvement-list">
            <li class="improvement-item">
              Split into 3 smaller, more focused user stories
            </li>
            <li class="improvement-item">
              Added explicit dependencies and prerequisites
            </li>
            <li class="improvement-item">
              Improved testability with specific acceptance criteria
            </li>
            <li class="improvement-item">
              Enhanced business value with metrics and KPIs
            </li>
            <li class="improvement-item">
              INVEST Score improved from 12/30 to 24/30
            </li>
          </ul>
        </div>

        <div class="comparison-view">
          <div class="comparison-header">
            <div class="comparison-tab active" data-tab="refined">
              Refined Version
            </div>
            <div class="comparison-tab" data-tab="comparison">
              Side-by-Side Comparison
            </div>
          </div>

          <!-- Refined Version Tab -->
          <div class="comparison-content active" id="refined-tab">
            <h1 class="story-title">US-005: User can proceed to checkout</h1>

            <div class="section">
              <div class="section-title">Description:</div>
              <div class="section-content">
                <div class="story-description">
                  As a customer with items in my shopping cart, I want to be
                  able to proceed to checkout so that I can complete my purchase
                  efficiently.
                </div>
                <div class="story-meta">
                  <span class="story-meta-item">Source: Azure DevOps</span>
                  <span class="story-meta-item">Created: Feb 26, 2025</span>
                  <span class="story-meta-item">Refined: Feb 27, 2025</span>
                </div>
              </div>
            </div>

            <div class="section">
              <div class="section-title">Acceptance Criteria:</div>
              <div class="section-content">
                <ol class="acceptance-list">
                  <li class="acceptance-item">
                    <strong>Given</strong> a user has at least one item in their
                    shopping cart<br /><strong>When</strong> they view the
                    shopping cart page<br /><strong>Then</strong> they should
                    see a prominent "Proceed to Checkout" button
                  </li>
                  <li class="acceptance-item">
                    <strong>Given</strong> a user is viewing their shopping cart
                    with items<br /><strong>When</strong> they click the
                    "Proceed to Checkout" button<br /><strong>Then</strong> they
                    should be redirected to the checkout page
                  </li>
                  <li class="acceptance-item">
                    <strong>Given</strong> a user has an empty shopping cart<br /><strong
                      >When</strong
                    >
                    they view the shopping cart page<br /><strong>Then</strong>
                    the "Proceed to Checkout" button should be disabled with
                    appropriate messaging
                  </li>
                  <li class="acceptance-item">
                    <strong>Given</strong> a user is not logged in and has items
                    in their cart<br /><strong>When</strong> they click "Proceed
                    to Checkout"<br /><strong>Then</strong> they should be
                    prompted to log in or continue as guest
                  </li>
                  <li class="acceptance-item">
                    <strong>Given</strong> a user is on the checkout page<br /><strong
                      >When</strong
                    >
                    they enter valid shipping and payment information<br /><strong
                      >Then</strong
                    >
                    they should be able to submit their order
                  </li>
                  <li class="acceptance-item">
                    <strong>Given</strong> a user has submitted their order<br /><strong
                      >When</strong
                    >
                    the order is processed successfully<br /><strong
                      >Then</strong
                    >
                    they should see an order confirmation with order details and
                    receive a confirmation email
                  </li>
                </ol>
              </div>
            </div>

            <div class="section">
              <div class="section-title">Additional Details:</div>
              <div class="section-content">
                <ul class="issues-list">
                  <li class="issues-item">
                    <strong>Prerequisites:</strong> User can add items to
                    shopping cart (US-002), User can view shopping cart (US-003)
                  </li>
                  <li class="issues-item">
                    <strong>Business Value:</strong> Directly impacts conversion
                    rate (currently at 2.3%, target is 3.5%)
                  </li>
                  <li class="issues-item">
                    <strong>Business Value:</strong> Reduces cart abandonment
                    rate (currently at 68%, target is below 60%)
                  </li>
                  <li class="issues-item">
                    <strong>Technical Note:</strong> The checkout button should
                    be implemented as a component that can be reused across the
                    site
                  </li>
                  <li class="issues-item">
                    <strong>Technical Note:</strong> Authentication state check
                    required before navigation to checkout
                  </li>
                  <li class="issues-item">
                    <strong>Test Cases:</strong> Verify button visibility,
                    navigation, authentication flow, and order submission
                  </li>
                </ul>
              </div>
            </div>

            <div class="evaluation-header">
              <div class="evaluation-title">User Story Quality Evaluation</div>
              <div class="evaluation-subtitle">
                Analyzing this user story against INVEST criteria to ensure it
                meets quality standards
              </div>
            </div>

            <div class="invest-alert">
              <div class="invest-alert-title">
                Current INVEST Score: 24/30 (Good)
              </div>
              <div class="invest-alert-description">
                This story has been significantly improved, particularly in
                Independence, Testability, and Size.
              </div>
            </div>

            <div class="invest-tabs">
              <div class="invest-tab active" data-tab="independent">
                Independent
              </div>
              <div class="invest-tab" data-tab="negotiable">Negotiable</div>
              <div class="invest-tab" data-tab="valuable">Valuable</div>
              <div class="invest-tab" data-tab="estimable">Estimable</div>
              <div class="invest-tab" data-tab="small">Small</div>
              <div class="invest-tab" data-tab="testable">Testable</div>
            </div>

            <!-- Independent Tab Content -->
            <div class="invest-tab-content active" id="independent-tab">
              <div class="invest-criterion-header">
                <div class="invest-criterion-title">Independent</div>
                <div class="invest-criterion-score">4/5</div>
              </div>

              <div class="invest-criterion-description">
                <strong>Definition:</strong> The user story should be
                self-contained and not dependent on other stories. It should be
                possible to implement and deliver it without having to implement
                other stories first.
              </div>

              <div class="rating">
                <div class="rating-label">Rating:</div>
                <div class="rating-item">1</div>
                <div class="rating-item">2</div>
                <div class="rating-item">3</div>
                <div class="rating-item active">4</div>
                <div class="rating-item">5</div>
                <div class="rating-description">
                  Good (4) - Mostly independent with clear dependencies
                </div>
              </div>

              <div class="section">
                <div class="section-title">Improvements:</div>
                <div class="section-content">
                  <ul class="issues-list">
                    <li class="issues-item">
                      Dependencies are now explicitly stated as prerequisites
                    </li>
                    <li class="issues-item">
                      The story focuses on a specific user journey (checkout
                      process)
                    </li>
                    <li class="issues-item">
                      Can be implemented and tested independently
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Negotiable Tab Content -->
            <div class="invest-tab-content" id="negotiable-tab">
              <div class="invest-criterion-header">
                <div class="invest-criterion-title">Negotiable</div>
                <div class="invest-criterion-score">4/5</div>
              </div>

              <div class="invest-criterion-description">
                <strong>Definition:</strong> The user story should be a
                collaborative conversation piece between stakeholders and the
                development team. It should not be an overly detailed contract
                that prevents flexibility during implementation.
              </div>

              <div class="rating">
                <div class="rating-label">Rating:</div>
                <div class="rating-item">1</div>
                <div class="rating-item">2</div>
                <div class="rating-item">3</div>
                <div class="rating-item active">4</div>
                <div class="rating-item">5</div>
                <div class="rating-description">
                  Good (4) - Clearly negotiable with room for discussion
                </div>
              </div>

              <div class="section">
                <div class="section-title">Improvements:</div>
                <div class="section-content">
                  <ul class="issues-list">
                    <li class="issues-item">
                      Technical notes provide guidance without being
                      prescriptive
                    </li>
                    <li class="issues-item">
                      Acceptance criteria focus on behavior, not implementation
                      details
                    </li>
                    <li class="issues-item">
                      Clear separation between requirements and implementation
                      suggestions
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Valuable Tab Content -->
            <div class="invest-tab-content" id="valuable-tab">
              <div class="invest-criterion-header">
                <div class="invest-criterion-title">Valuable</div>
                <div class="invest-criterion-score">5/5</div>
              </div>

              <div class="invest-criterion-description">
                <strong>Definition:</strong> The user story must deliver value
                to the stakeholders. It should be clear why this story matters
                and what benefit it provides to users or the business.
              </div>

              <div class="rating">
                <div class="rating-label">Rating:</div>
                <div class="rating-item">1</div>
                <div class="rating-item">2</div>
                <div class="rating-item">3</div>
                <div class="rating-item">4</div>
                <div class="rating-item active">5</div>
                <div class="rating-description">
                  Excellent (5) - Clearly valuable with metrics
                </div>
              </div>

              <div class="section">
                <div class="section-title">Improvements:</div>
                <div class="section-content">
                  <ul class="issues-list">
                    <li class="issues-item">
                      Added specific business metrics that will be impacted
                    </li>
                    <li class="issues-item">
                      Included current metrics and target goals
                    </li>
                    <li class="issues-item">
                      Clearly articulates the value to both users and business
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Estimable Tab Content -->
            <div class="invest-tab-content" id="estimable-tab">
              <div class="invest-criterion-header">
                <div class="invest-criterion-title">Estimable</div>
                <div class="invest-criterion-score">4/5</div>
              </div>

              <div class="invest-criterion-description">
                <strong>Definition:</strong> The development team should be able
                to estimate the size and complexity of the user story with
                reasonable confidence. There should be enough information to
                make this possible.
              </div>

              <div class="rating">
                <div class="rating-label">Rating:</div>
                <div class="rating-item">1</div>
                <div class="rating-item">2</div>
                <div class="rating-item">3</div>
                <div class="rating-item active">4</div>
                <div class="rating-item">5</div>
                <div class="rating-description">
                  Good (4) - Easily estimable with clear scope
                </div>
              </div>

              <div class="section">
                <div class="section-title">Improvements:</div>
                <div class="section-content">
                  <ul class="issues-list">
                    <li class="issues-item">
                      Added technical notes to clarify implementation details
                    </li>
                    <li class="issues-item">
                      Clear acceptance criteria with specific scenarios
                    </li>
                    <li class="issues-item">
                      Explicit dependencies and prerequisites
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Small Tab Content -->
            <div class="invest-tab-content" id="small-tab">
              <div class="invest-criterion-header">
                <div class="invest-criterion-title">Small</div>
                <div class="invest-criterion-score">3/5</div>
              </div>

              <div class="invest-criterion-description">
                <strong>Definition:</strong> User stories should be small enough
                to be completed within a single sprint. They should represent a
                focused piece of functionality that can be implemented and
                tested in a reasonable timeframe.
              </div>

              <div class="rating">
                <div class="rating-label">Rating:</div>
                <div class="rating-item">1</div>
                <div class="rating-item">2</div>
                <div class="rating-item active">3</div>
                <div class="rating-item">4</div>
                <div class="rating-item">5</div>
                <div class="rating-description">
                  Average (3) - Manageable but could be smaller
                </div>
              </div>

              <div class="section">
                <div class="section-title">Improvements:</div>
                <div class="section-content">
                  <ul class="issues-list">
                    <li class="issues-item">
                      More focused than the original story
                    </li>
                    <li class="issues-item">
                      Clearer boundaries make it more manageable
                    </li>
                    <li class="issues-item">
                      Could potentially be split further for optimal size
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Testable Tab Content -->
            <div class="invest-tab-content" id="testable-tab">
              <div class="invest-criterion-header">
                <div class="invest-criterion-title">Testable</div>
                <div class="invest-criterion-score">5/5</div>
              </div>

              <div class="invest-criterion-description">
                <strong>Definition:</strong> The user story must provide the
                necessary information to make test development possible. It
                should have clear acceptance criteria that can be verified
                through testing.
              </div>

              <div class="rating">
                <div class="rating-label">Rating:</div>
                <div class="rating-item">1</div>
                <div class="rating-item">2</div>
                <div class="rating-item">3</div>
                <div class="rating-item">4</div>
                <div class="rating-item active">5</div>
                <div class="rating-description">
                  Excellent (5) - Highly testable with clear criteria
                </div>
              </div>

              <div class="section">
                <div class="section-title">Improvements:</div>
                <div class="section-content">
                  <ul class="issues-list">
                    <li class="issues-item">
                      Acceptance criteria rewritten in Given/When/Then format
                    </li>
                    <li class="issues-item">
                      Included edge cases (empty cart, unauthenticated user)
                    </li>
                    <li class="issues-item">
                      Clear, verifiable outcomes for each scenario
                    </li>
                    <li class="issues-item">Added specific test cases</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="invest-summary">
              <div class="invest-summary-title">Overall INVEST Summary</div>
              <div class="invest-summary-grid">
                <div class="invest-summary-item">
                  <div class="invest-summary-label">Independent</div>
                  <div class="invest-summary-value">4/5</div>
                </div>
                <div class="invest-summary-item">
                  <div class="invest-summary-label">Negotiable</div>
                  <div class="invest-summary-value">4/5</div>
                </div>
                <div class="invest-summary-item">
                  <div class="invest-summary-label">Valuable</div>
                  <div class="invest-summary-value">5/5</div>
                </div>
                <div class="invest-summary-item">
                  <div class="invest-summary-label">Estimable</div>
                  <div class="invest-summary-value">4/5</div>
                </div>
                <div class="invest-summary-item">
                  <div class="invest-summary-label">Small</div>
                  <div class="invest-summary-value">3/5</div>
                </div>
                <div class="invest-summary-item">
                  <div class="invest-summary-label">Testable</div>
                  <div class="invest-summary-value">5/5</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Side-by-Side Comparison Tab -->
          <div class="comparison-content" id="comparison-tab">
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 1rem;
              "
            >
              <div>
                <label for="version1">Version 1:</label>
                <select id="version1" class="version-select">
                  <option value="original">Original</option>
                  <option value="v1">V1.0</option>
                  <option value="v2">V2.0</option>
                  <option value="v3">V3.0</option>
                  <option value="final">Final Version</option>
                </select>
              </div>
              <div>
                <label for="version2">Version 2:</label>
                <select id="version2" class="version-select">
                  <option value="original">Original</option>
                  <option value="v1">V1.0</option>
                  <option value="v2">V2.0</option>
                  <option value="v3">V3.0</option>
                  <option value="final">Final Version</option>
                  <option value="refined" selected>Refined</option>
                </select>
              </div>
            </div>

            <div class="diff-view">
              <div class="diff-column">
                <div class="diff-header">
                  <span>Selected Story</span>
                  <span
                    >INVEST Score: 12/30
                    <span class="badge badge-danger">Poor</span></span
                  >
                </div>
                <div class="diff-content">
                  <p>
                    <strong>Title:</strong> US-005: User can proceed to checkout
                  </p>

                  <p>
                    <strong>Additional Information:</strong> As a customer, I
                    want to be able to proceed to checkout when I'm ready to
                    purchase the items in my cart.
                  </p>

                  <p><strong>Acceptance Criteria:</strong></p>
                  <ol>
                    <li>User sees a checkout button in the shopping cart</li>
                    <li>
                      Clicking on checkout takes user to the checkout page
                    </li>
                    <li>User can enter payment and shipping information</li>
                    <li>User can submit the order</li>
                  </ol>

                  <p><strong>Additional Information:</strong></p>
                  <ul>
                    <li>Source: Azure DevOps</li>
                    <li>Created: Feb 26, 2025</li>
                  </ul>
                </div>
              </div>
              <div class="diff-column">
                <div class="diff-header">
                  <span>Refined Version</span>
                  <span
                    >INVEST Score: 24/30
                    <span class="badge badge-success">Good</span></span
                  >
                </div>
                <div class="diff-content">
                  <p>
                    <strong>Title:</strong> US-005: User can proceed to checkout
                  </p>

                  <p>
                    <strong>Additional Information:</strong> As a customer
                    <span class="diff-added"
                      >with items in my shopping cart</span
                    >, I want to be able to proceed to checkout
                    <span class="diff-added"
                      >so that I can complete my purchase efficiently</span
                    >.
                  </p>

                  <p><strong>Acceptance Criteria:</strong></p>
                  <ol>
                    <li class="diff-added">
                      <strong>Given</strong> a user has at least one item in
                      their shopping cart<br /><strong>When</strong> they view
                      the shopping cart page<br /><strong>Then</strong> they
                      should see a prominent "Proceed to Checkout" button
                    </li>
                    <li class="diff-added">
                      <strong>Given</strong> a user is viewing their shopping
                      cart with items<br /><strong>When</strong> they click the
                      "Proceed to Checkout" button<br /><strong>Then</strong>
                      they should be redirected to the checkout page
                    </li>
                    <li class="diff-added">
                      <strong>Given</strong> a user has an empty shopping
                      cart<br /><strong>When</strong> they view the shopping
                      cart page<br /><strong>Then</strong> the "Proceed to
                      Checkout" button should be disabled with appropriate
                      messaging
                    </li>
                    <li class="diff-added">
                      <strong>Given</strong> a user is not logged in and has
                      items in their cart<br /><strong>When</strong> they click
                      "Proceed to Checkout"<br /><strong>Then</strong> they
                      should be prompted to log in or continue as guest
                    </li>
                    <li class="diff-added">
                      <strong>Given</strong> a user is on the checkout page<br /><strong
                        >When</strong
                      >
                      they enter valid shipping and payment information<br /><strong
                        >Then</strong
                      >
                      they should be able to submit their order
                    </li>
                    <li class="diff-added">
                      <strong>Given</strong> a user has submitted their order<br /><strong
                        >When</strong
                      >
                      the order is processed successfully<br /><strong
                        >Then</strong
                      >
                      they should see an order confirmation with order details
                      and receive a confirmation email
                    </li>
                  </ol>
                  <p class="diff-removed">
                    User sees a checkout button in the shopping cart
                  </p>
                  <p class="diff-removed">
                    Clicking on checkout takes user to the checkout page
                  </p>
                  <p class="diff-removed">
                    User can enter payment and shipping information
                  </p>
                  <p class="diff-removed">User can submit the order</p>

                  <p><strong>Additional Information:</strong></p>
                  <ul>
                    <li>Source: Azure DevOps</li>
                    <li>Created: Feb 26, 2025</li>
                    <li class="diff-added">Refined: Feb 27, 2025</li>
                    <li class="diff-added">
                      <strong>Prerequisites:</strong> User can add items to
                      shopping cart (US-002), User can view shopping cart
                      (US-003)
                    </li>
                    <li class="diff-added">
                      <strong>Business Value:</strong> Directly impacts
                      conversion rate (currently at 2.3%, target is 3.5%)
                    </li>
                    <li class="diff-added">
                      <strong>Business Value:</strong> Reduces cart abandonment
                      rate (currently at 68%, target is below 60%)
                    </li>
                    <li class="diff-added">
                      <strong>Technical Note:</strong> The checkout button
                      should be implemented as a component that can be reused
                      across the site
                    </li>
                    <li class="diff-added">
                      <strong>Technical Note:</strong> Authentication state
                      check required before navigation to checkout
                    </li>
                    <li class="diff-added">
                      <strong>Test Cases:</strong> Verify button visibility,
                      navigation, authentication flow, and order submission
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Download Sections at the bottom -->
        <div class="download-container">
          <div class="download-header" id="user-story-header">
            <span>Download User Story</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </div>
          <div class="download-content" id="user-story-content">
            <div class="download-option download-pdf">
              <div class="download-option-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7 10 12 15 17 10"></polyline>
                  <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
              </div>
              <div class="download-option-text">Download PDF</div>
            </div>
            <div class="download-option download-word">
              <div class="download-option-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
              </div>
              <div class="download-option-text">Download Word</div>
            </div>
          </div>
        </div>

        <div class="download-container">
          <div class="download-header" id="process-diagram-header">
            <span>Download Business Process Flow Diagram</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </div>
          <div class="download-content" id="process-diagram-content">
            <div class="download-option download-view">
              <div class="download-option-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </div>
              <div class="download-option-text">View Diagram</div>
            </div>
            <div class="download-option download-pdf">
              <div class="download-option-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7 10 12 15 17 10"></polyline>
                  <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
              </div>
              <div class="download-option-text">Download PDF</div>
            </div>
            <div class="download-option download-word">
              <div class="download-option-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
              </div>
              <div class="download-option-text">Download Word</div>
            </div>
          </div>
        </div>

        <div class="action-buttons">
          <div>
            <button class="btn btn-outline">Back to Original</button>
          </div>
          <div class="action-buttons-right">
            <button class="btn btn-outline">Edit</button>
            <button class="btn btn-secondary" id="refine-again-btn">
              REFINE
            </button>
            <button class="btn btn-primary">Save as New Version</button>
          </div>
        </div>

        <div class="version-history">
          <div class="version-history-title">Version History</div>
          <table class="version-history-table">
            <thead>
              <tr>
                <th>Version</th>
                <th>Description</th>
                <th>Date</th>
                <th>Author</th>
                <th>INVEST Score</th>
                <th>View</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Original</td>
                <td>Initial draft from requirements</td>
                <td>Feb 20, 2025</td>
                <td>Jane Smith</td>
                <td>8/30 <span class="badge badge-danger">Poor</span></td>
                <td><a href="#" class="view-link">View</a></td>
              </tr>
              <tr>
                <td>V1.0</td>
                <td>First revision after team review</td>
                <td>Feb 22, 2025</td>
                <td>John Doe</td>
                <td>10/30 <span class="badge badge-danger">Poor</span></td>
                <td><a href="#" class="view-link">View</a></td>
              </tr>
              <tr>
                <td>V2.0</td>
                <td>Added acceptance criteria</td>
                <td>Feb 24, 2025</td>
                <td>John Doe</td>
                <td>11/30 <span class="badge badge-danger">Poor</span></td>
                <td><a href="#" class="view-link">View</a></td>
              </tr>
              <tr>
                <td>V3.0</td>
                <td>Refined after stakeholder feedback</td>
                <td>Feb 25, 2025</td>
                <td>John Doe</td>
                <td>12/30 <span class="badge badge-danger">Poor</span></td>
                <td><a href="#" class="view-link">View</a></td>
              </tr>
              <tr>
                <td>Final Version</td>
                <td>Current version with evaluation</td>
                <td>Feb 26, 2025</td>
                <td>John Doe</td>
                <td>12/30 <span class="badge badge-danger">Poor</span></td>
                <td><a href="#" class="view-link">View</a></td>
              </tr>
              <tr>
                <td>Refined</td>
                <td>Enhanced version with improvements</td>
                <td>Feb 27, 2025</td>
                <td>QMentisAI</td>
                <td>24/30 <span class="badge badge-success">Good</span></td>
                <td><a href="#" class="view-link">View</a></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Refine Again Modal -->
    <div id="refine-modal" class="modal">
      <div class="modal-content">
        <span class="modal-close">&times;</span>
        <div class="modal-title">Refine User Story with AI</div>
        <div class="modal-form">
          <div class="form-group">
            <label class="form-label"
              >What aspects of the user story would you like to enhance?</label
            >
            <textarea
              class="form-textarea"
              placeholder="E.g., Improve acceptance criteria, add more business value metrics, split into smaller stories..."
            ></textarea>
          </div>
          <div class="form-group">
            <label class="form-label"
              >Any additional information or context to consider?</label
            >
            <textarea
              class="form-textarea"
              placeholder="E.g., New business requirements, technical constraints, stakeholder feedback..."
            ></textarea>
          </div>
          <div class="modal-actions">
            <button class="btn btn-outline">Cancel</button>
            <button class="btn btn-primary">Refine with AI</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Tab switching functionality for INVEST tabs
      document.addEventListener("DOMContentLoaded", function () {
        const investTabs = document.querySelectorAll(".invest-tab");
        const investTabContents = document.querySelectorAll(
          ".invest-tab-content"
        );

        investTabs.forEach((tab) => {
          tab.addEventListener("click", function () {
            // Remove active class from all tabs and contents
            investTabs.forEach((t) => t.classList.remove("active"));
            investTabContents.forEach((c) => c.classList.remove("active"));

            // Add active class to clicked tab
            this.classList.add("active");

            // Get the tab id and show corresponding content
            const tabId = this.getAttribute("data-tab");
            document.getElementById(tabId + "-tab").classList.add("active");
          });
        });

        // Comparison view tab switching
        const comparisonTabs = document.querySelectorAll(".comparison-tab");
        const comparisonContents = document.querySelectorAll(
          ".comparison-content"
        );

        comparisonTabs.forEach((tab) => {
          tab.addEventListener("click", function () {
            // Remove active class from all tabs and contents
            comparisonTabs.forEach((t) => t.classList.remove("active"));
            comparisonContents.forEach((c) => c.classList.remove("active"));

            // Add active class to clicked tab
            this.classList.add("active");

            // Get the tab id and show corresponding content
            const tabId = this.getAttribute("data-tab");
            document.getElementById(tabId + "-tab").classList.add("active");
          });
        });

        // Version comparison selectors
        const version1Select = document.getElementById("version1");
        const version2Select = document.getElementById("version2");

        version1Select.addEventListener("change", updateComparisonView);
        version2Select.addEventListener("change", updateComparisonView);

        function updateComparisonView() {
          const version1 = version1Select.value;
          const version2 = version2Select.value;

          // Update the diff-header text
          const diffHeaders = document.querySelectorAll(
            ".diff-header span:first-child"
          );
          diffHeaders[0].textContent = getVersionName(version1);
          diffHeaders[1].textContent = getVersionName(version2);

          // In a real application, this would fetch the actual content for the selected versions
          console.log(`Comparing ${version1} with ${version2}`);
        }

        function getVersionName(version) {
          switch (version) {
            case "original":
              return "Original";
            case "v1":
              return "V1.0";
            case "v2":
              return "V2.0";
            case "v3":
              return "V3.0";
            case "final":
              return "Final Version";
            case "refined":
              return "Refined Version";
            default:
              return version;
          }
        }

        // Modal functionality
        const refineAgainBtn = document.getElementById("refine-again-btn");
        const refineModal = document.getElementById("refine-modal");
        const modalClose = document.querySelector(".modal-close");
        const cancelBtn = document.querySelector(".modal-actions .btn-outline");

        refineAgainBtn.addEventListener("click", function () {
          refineModal.style.display = "block";
        });

        modalClose.addEventListener("click", function () {
          refineModal.style.display = "none";
        });

        cancelBtn.addEventListener("click", function () {
          refineModal.style.display = "none";
        });

        // Close modal when clicking outside
        window.addEventListener("click", function (event) {
          if (event.target === refineModal) {
            refineModal.style.display = "none";
          }
        });

        // Download dropdown functionality
        const userStoryHeader = document.getElementById("user-story-header");
        const userStoryContent = document.getElementById("user-story-content");
        const processDiagramHeader = document.getElementById(
          "process-diagram-header"
        );
        const processDiagramContent = document.getElementById(
          "process-diagram-content"
        );

        userStoryHeader.addEventListener("click", function () {
          userStoryContent.classList.toggle("active");
        });

        processDiagramHeader.addEventListener("click", function () {
          processDiagramContent.classList.toggle("active");
        });
      });
    </script>
  </body>
</html>
